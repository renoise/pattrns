local scale = scale("c5", "natural minor")
return pattern({
  unit = "1/8",
  pulse = pulse.from({ 1, 0.5, 1, 0 }, { 0, 1, 0, 0 }, { 1, 0, 1, 0 }, { 0, 1, 0, 1 }),
  gate = (context) -> {
    return context.pulse_value == 1.0
  },
  event = pulse.from(1, 3, 4, 1, 3, 4, -7):map((index, value) -> {
    if value < 0 {
      return { key = scale.notes[-value] - 12, volume = 0.7 }
    } else {
      return { key = scale.notes[value], volume = 0.7 }
    }
  })
})
